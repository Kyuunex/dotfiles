### Packages required on Arch:
# xorg-server xorg-xinit xorg-xrandr
# alacritty noto-fonts rofi xss-lock i3-wm i3status dolphin kate feh pavucontrol-qt
# dmenu flameshot dunst kdeconnect gnome-keyring network-manager-applet blueman picom
# brightnessctl polkit-kde-agent
# pulseaudio or pipewire-pulse
## From AUR:
# i3lock-color qt5ct-kde ungoogled-chromium snixembed

### Packages required on Debian:
# xserver-xorg-core xinit x11-xserver-utils
# alacritty fonts-noto rofi xss-lock i3-wm i3lock dolphin kate feh pavucontrol-qt qt5ct i3status polkit-kde-agent-1
# suckless-tools flameshot dunst kdeconnect gnome-keyring network-manager-gnome pulseaudio blueman

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!


### Variables

# Mod key
set $mod Mod4

# Terminal
set $term alacritty

# Browser
set $browser chromium

# File manager
set $file_manager dolphin

# Text editor
set $text_editor kate

# Bluetooth GUI
set $bluetooth_gui blueman-manager

# Audio GUI
set $audio_gui pavucontrol-qt

# Primary IM software
set $im discord

# Menu
set $menu "rofi -modi window,drun,ssh,combi,run -show drun -theme arthur -combi-modi window,drun,ssh -show-icons -font 'Noto Sans 16'"
# set $run "rofi -show run -theme arthur -show-icons -font 'Noto Sans 16'"
set $run "dmenu_run -nf '#BBBBBB' -nb '#222222' -sb '#E04265' -sf '#000000' -fn 'monospace-12' -p 'dmenu prompt &gt;'"


# refresh_i3status cmdline
set $refresh_i3status killall -SIGUSR1 i3status


### Appearance
include themes/bochi

### Idle and Lockscreen configuration

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
set $lock_cmdline i3lock -c 000000 -i "$HOME/.config/lockscreen-image" --fill --nofork --clock --keylayout 0 --time-color=FFFFFF --date-color=FFFFFF --layout-color=FFFFFF --date-str="%A %d/%b/%Y"

exec --no-startup-id xss-lock --transfer-sleep-lock -- $lock_cmdline
bindsym $mod+l exec --no-startup-id $lock_cmdline


### NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
exec --no-startup-id nm-applet


### Volume adjustment keybinds

bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

bindsym $mod+plus exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5% && $refresh_i3status
bindsym $mod+minus exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5% && $refresh_i3status

bindsym --whole-window --border $mod+button4 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5% && $refresh_i3status
bindsym --whole-window --border $mod+button5 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5% && $refresh_i3status


### Brightness control keybinds
bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl s +10%
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl s 10%-


### Keybinds

# Terminal
bindsym $mod+Return exec $term

# Software
bindsym $mod+b exec $browser
bindsym $mod+d exec $menu
bindsym $mod+i exec $file_manager
bindsym $mod+k exec $text_editor
bindsym $mod+o exec $bluetooth_gui
bindsym $mod+p exec $audio_gui
bindsym $mod+t exec $term -e htop
bindsym $mod+y exec $im
bindsym $mod+z exec --no-startup-id $run

# Screenshots
bindsym Print exec flameshot gui -p "$HOME/Pictures/Screenshots"
bindsym $mod+Print exec flameshot screen -c -p "$HOME/Pictures/Screenshots"

### Typing
bindsym --whole-window $mod+0x2c exec --no-startup-id xdotool key --clearmodifiers U2022

# bindsym --whole-window button4 exec --no-startup-id xdotool key --clearmodifiers space
# bindsym --whole-window button5 exec --no-startup-id xdotool key --clearmodifiers space

### Window management Keybinds
include window_management


### Bar
# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
    status_command i3status
    position top
    # height 24
    colors {
        background #2D2A2E
        statusline #C5C8C6
        separator  #666666

        focused_workspace  #E04265 #E04265 #000000
        active_workspace   #E04265 #2D2A2E #FFFFFF
        inactive_workspace #2D2A2E #2D2A2E #888888
        urgent_workspace   #2F343A #662636 #FFFFFF
        binding_mode       #2F343A #662636 #FFFFFF
    }
}
# exec --no-startup-id $HOME/.config/polybar/launch.sh


### Window specific overrides
include window_overrides

### Services
include services

### Application startup
include startup/*
